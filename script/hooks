#!/bin/sh

if [ ! -d ".git" ]; then
    exit 0
fi

mkdir -p .git/hooks

cat > .git/hooks/pre-push << 'EOF'
#!/bin/sh
bun prettier --write --ignore-unknown $(git diff --name-only HEAD~1 HEAD)
bun run typecheck
EOF

chmod +x .git/hooks/pre-push
echo "âœ… Pre-push hook installed"
